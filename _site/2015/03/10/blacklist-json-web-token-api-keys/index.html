<!DOCTYPE html>
<html class="header-dark">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Learn how to blacklist a JWT API key so it is no longer valid.">
    
    <meta name="keywords" content="api, jwt, oauth, authentication, blacklist, revoke, scopes">
    

    <!-- <meta property="fb:admins" content="YOUR_FB_USER_ID" /> -->
<meta property="fb:app_id" content="534074790006350"/>
<meta property="og:title" content="Blacklisting JSON Web Token API Keys" />
<meta property="og:site_name" content="Auth0 - Blog" />
<meta property="og:url" content="https://auth0.com/blog/2015/03/10/blacklist-json-web-token-api-keys/" />

<meta name="og:image" content="https://cldup.com/CFa762q5FS.png">



<meta property="og:description" content="Learn how to blacklist a JWT API key so it is no longer valid." />



<meta property="og:type" content="article">


<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">

<meta name="twitter:image" content="https://cldup.com/CFa762q5FS.png">

<meta name="twitter:title" content="Blacklisting JSON Web Token API Keys">
<meta name="twitter:description" content="Learn how to blacklist a JWT API key so it is no longer valid.">
<meta name="twitter:creator" content="@auth0">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">


    <title>Blacklisting JSON Web Token API Keys</title>

    <script src="//use.typekit.net/tde2fii.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>

    <script type="text/javascript" src="//cdn.auth0.com/js/lock-6.min.js"></script>
    <script type="text/javascript" src="//cdn.auth0.com/web-header/latest/standalone.min.js"></script>
    <link rel="stylesheet" href="//cdn.auth0.com/web-header/latest/standalone.min.css" />

    

    

    
    <link rel="canonical" href="/blog/2015/03/10/blacklist-json-web-token-api-keys/" />
    

    <link rel="shortcut icon" href="//cdn.auth0.com/styleguide/latest/lib/logos/img/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/auth0">
    <link type="application/opensearchdescription+xml" rel="search" href="/osd.xml"/>

    <link href="//cdn.auth0.com/styleguide/latest/index.css" rel="stylesheet">

    <link rel="stylesheet" href="/blog/css/index.css" />

    <script type="text/javascript">
      var segmentKey =  'WqErZyd56ob3pmMDnko55hNgFt8B4Zox' ;
      !function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
        analytics.load(segmentKey);
        analytics.page();
      }}();
    </script>
</head>
<body>
    
<!-- Facebook -->
<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=534074790006350&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<!-- Twitter -->
<script type="text/javascript">
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script>

<!-- Google+ -->
<!--
<script type="text/javascript">
  (function() {
    var po = document.createElement('script');
    po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);
  })();
</script>
-->


    <header class="site-header clearfix">
    </header>
    <script type="text/javascript">
      (function() {
        var header = new WebHeader({ base_url: 'https://auth0.com' });
        header.render('header.site-header');
      })();
    </script>

    
    <!-- Twitter Conversion -->
<script src="//platform.twitter.com/oct.js" type="text/javascript"></script>
<script type="text/javascript">
  twttr.conversion.trackPid('l4rua');
</script>

<noscript>
  <img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=l4rua&p_id=Twitter" />
  <img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=l4rua&p_id=Twitter" />
</noscript>






<div class="banner banner-post" style="background: #454A33">
    <div class="container banner-container">
        <i class="icon-budicon-697 hide"></i>

        <h1><a href="/blog/">Blog</a></h1>

        












  <a href="/blog/2015/03/10/blacklist-json-web-token-api-keys/" 
    style="
 
  background: none;;
 
 
 
"
    class="entry-thumbnail">
    <img 
    style="
  
 
  
  max-width: 200%;
  
 
  
 
  
"
    src="https://cldup.com/CFa762q5FS.png"
    alt="Blacklisting JSON Web Token API Keys">
  </a>


        <h2 class="entry-title"><a href="/blog/2015/03/10/blacklist-json-web-token-api-keys/" title="Published: March 10, 2015">Blacklisting JSON Web Token API Keys</a></h2>

        
        <div class="entry-content">
          <p>Learn how to blacklist a JWT API key so it is no longer valid.</p>

        </div>
        

        <div class="post-info">
          <div class="author">
            <a href="https://twitter.com/dschenkelman"><img src="https://www.gravatar.com/avatar/1c9619a22f32012221bd59296dc9a1a2?size=200" width="27" height="27"> <span class="name">Damian Schenkelman</span></a>
          </div>

          <div class="date">
            <time datetime="March 10, 2015" class="published updated">March 10, 2015</time>
          </div>

          <div class="social-stats">
  <a href="#" data-url="https://auth0.com/blog/2015/03/10/blacklist-json-web-token-api-keys/" data-type="twitter" data-count="true" class="network">
    
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="22" height="22" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">

    <path id="twitter-icon" d="M462,128.223c-15.158,6.724-31.449,11.269-48.547,13.31c17.449-10.461,30.854-27.025,37.164-46.764

      c-16.333,9.687-34.422,16.721-53.676,20.511c-15.418-16.428-37.386-26.691-61.698-26.691c-54.56,0-94.668,50.916-82.337,103.787

      c-70.25-3.524-132.534-37.177-174.223-88.314c-22.142,37.983-11.485,87.691,26.158,112.85c-13.854-0.438-26.891-4.241-38.285-10.574

      c-0.917,39.162,27.146,75.781,67.795,83.949c-11.896,3.237-24.926,3.978-38.17,1.447c10.754,33.58,41.972,58.018,78.96,58.699

      C139.604,378.282,94.846,390.721,50,385.436c37.406,23.982,81.837,37.977,129.571,37.977c156.932,0,245.595-132.551,240.251-251.435

      C436.339,160.061,450.668,145.174,462,128.223z"/>

    </svg>

  </a>

  <a href="#" data-url="https://auth0.com/blog/2015/03/10/blacklist-json-web-token-api-keys/" data-type="linkedin" data-count="true" class="network">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="22" height="22" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">

    <path id="linkedin-icon" d="M411.945,50h-312c-27.614,0-50,22.386-50,50v312c0,27.614,22.386,50,50,50h312

      c27.614,0,50-22.386,50-50V100C461.945,72.386,439.56,50,411.945,50z M180.996,392.99h-56.537V210.336h56.537V392.99z

       M152.457,186.417c-18.465,0-33.432-15.09-33.432-33.703c0-18.614,14.967-33.704,33.432-33.704c18.463,0,33.432,15.09,33.432,33.704

      C185.889,171.327,170.92,186.417,152.457,186.417z M392.865,392.99h-56.262c0,0,0-69.582,0-95.881

      c0-26.296-9.988-40.974-30.781-40.974c-22.629,0-34.453,15.289-34.453,40.974c0,28.133,0,95.881,0,95.881h-54.223V210.336h54.223

      v24.599c0,0,16.309-30.171,55.041-30.171s66.455,23.648,66.455,72.572C392.865,326.262,392.865,392.99,392.865,392.99z"/>

    </svg>
  </a>

  <a href="#" data-url="https://auth0.com/blog/2015/03/10/blacklist-json-web-token-api-keys/" data-type="facebook" data-count="true" class="network">
    <svg width="17" height="17" viewBox="0 0 412 412" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <g id="facebook-icon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
          <path d="M283.80119,412 L361.995375,412 C389.611494,412 412,389.612167 412,361.995375 L412,50.0046252 C412,22.3885058 389.612167,0 361.995375,0 L50.0046252,0 C22.3885058,0 0,22.3878333 0,50.0046252 L0,361.995375 C0,389.611494 22.3878333,412 50.0046252,412 L219.907783,412 L219.907783,254.137637 L166.482996,254.137637 L166.482996,192.266054 L219.907783,192.266054 L219.907783,146.637452 C219.907783,93.6867027 252.247398,64.8530656 299.484232,64.8530656 C322.110827,64.8530656 341.559134,66.5376524 347.225329,67.2916602 L347.225329,122.6301 L314.462578,122.644417 C288.775412,122.644417 283.80119,134.851707 283.80119,152.764958 L283.80119,192.266054 L345.068293,192.266054 L337.089173,254.137637 L283.80119,254.137637 L283.80119,412 Z" id="Rectangle-1" fill="#000000" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </a>
</div>
        </div>

    </div>
</div>

<div id="container" class="container">
    <div class="blog-post blog-single">
        <div class="inner">
            <div class="entry-content" >
            <!-- <a href="//cdn.auth0.com/blog/blacklist_header.jpg" target="_blank"><img src="//cdn.auth0.com/blog/blacklist_header.jpg"></a> -->


<p><strong>tl;dr</strong>: if you understand why and how to support blacklisting JWTs, then skip to the <a href="#impl">code</a>.</p>

<!-- more -->


<p>On a <a href="https://auth0.com/blog/2014/12/02/using-json-web-tokens-as-api-keys/">previous post</a> we proposed an approach to using JSON Web Tokens as API Keys, going over some of the benefits of doing so and also providing some examples based on our <a href="https://auth0.com/docs/apiv2">API v2 scenarios</a>. This post follows up by explaining an aspect that was not covered before: how to blacklist a JWT API key so it is no longer valid.</p>

<h1>A real world example</h1>

<p>Let's for a second assume that GitHub used JSON Web Tokens as API Keys and one of them was accidentaly published on the web. You would want to make sure an app can no longer access your information by revoking that token:</p>

<p><a href="//cdn.auth0.com/blog/blacklist_token.png" target="_blank"><img src="//cdn.auth0.com/blog/blacklist_token.png"></a></p>

<h1>Framing the problem</h1>

<p>Providing support for blacklisting JWTs poses the following questions:</p>

<ol>
<li>How are JWTs individually identified?</li>
<li>Who should be able to revoke JWTs?</li>
<li>How are tokens revoked?</li>
<li>How do we avoid adding overhead?</li>
</ol>


<p>This blog post aims to answer the previous questions by leveraging our experience from implementing this feature in our <a href="https://docs.auth0.com/apiv2">API v2</a>.</p>

<!-- more -->


<h2>1. How are JWTs individually identified?</h2>

<p>To revoke a JWT we need to be able to tell one token apart from another one. The JWT spec proposes the <a href="http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html#jtiDef"><code>jti</code></a> (JWT ID) as a means to identify a token. From the specification:</p>

<blockquote><p>The jti (JWT ID) claim provides a unique identifier for the JWT. The identifier value MUST be assigned in a manner that ensures that there is a negligible probability that the same value will be accidentally assigned to a different data object; if the application uses multiple issuers, collisions MUST be prevented among values produced by different issuers as well.</p></blockquote>

<p>As a quick reminder, this is how the claims section of one of our JWT API tokens looks like:
<a href="//cdn.auth0.com/blog/jwt_blacklist_01.png" target="_blank"><img src="//cdn.auth0.com/blog/jwt_blacklist_01.png"></a></p>

<p>The tokens accepted by our API use the <code>aud</code> claim to determine the tenant for which the JWT is valid. If we use the <code>(aud, jti)</code> pair as the token's identifier then each tenant is in charge of guaranteeing that there's no duplication among their tokens.</p>

<p>Similarly, if a token does not include the <code>jti</code> claim we do not allow it to be revoked.</p>

<h2>2. Who should be able to revoke JWTs?</h2>

<p>If anyone could revoke our API keys then unfortunately they wouldn't be of much use. We need a way of restricting who can revoke a JWT.</p>

<p>The way we solved it in our API is by defining a specific scope (permission) that allows blacklisting tokens. If you generate a JWT like the one shown in the next figure you will be able to revoke JWTs:
<a href="//cdn.auth0.com/blog/jwt_blacklist_02.png" target="_blank"><img src="//cdn.auth0.com/blog/jwt_blacklist_02.png"></a></p>

<blockquote><p>Notice the <code>blacklist</code> action nested inside the <code>scopes</code> object.</p></blockquote>

<h2>3. How are tokens revoked?</h2>

<p>To blacklist/revoke a token, you need a JWT API key (referred to as <code>JWT_API_KEY</code>) like the one described in #2. With it you can issue a <code>POST</code> request to <code>/api/v2/blacklists/tokens</code> as shown below (new lines added for clarity):</p>

<pre><code>curl -H "Authorization: Bearer {JWT_API_KEY}"
-X POST
-H "Content-Type: application/json"
-d '{"aud":"u6nnAxGVjbBd8etXjj554YKGAG5HuVrp","jti":"test-token"}'
https://login.auth0.com/api/v2/blacklists/tokens
</code></pre>

<p>The complete documentation for the endpoint is <a href="https://auth0.com/docs/apiv2#!/blacklists/post_tokens">here</a> but basically you need to:</p>

<ul>
<li>Send the <code>aud</code> and <code>jti</code> claims of the JWT to revoke.</li>
<li>Send the JWT with the permissions necessary to blacklist tokens in the <strong>Authorization</strong> header.</li>
</ul>


<p>To get the revoked tokens you can issue a <code>GET</code> to <code>/api/v2/blacklists/tokens</code>. You can use the <a href="https://auth0.com/docs/apiv2#!/blacklists/get_tokens">docs</a> to figure out the how.</p>

<h2>4. How do we avoid adding overhead?</h2>

<p>You might be thinking:</p>

<blockquote><p>Wasn't the whole point of using JWTs avoiding a DB query?</p></blockquote>

<p>Well, that is a benefit, though harshly the <em>whole point</em>. There is a caveat though: that question only applies if you have an application with a single issuer, not a multi-tenant system.</p>

<p>If there is more than one tenant, you don't want all of them to share the same secret. You still have to perform a database query to map the <code>aud</code> claim to the required <code>secret</code>.</p>

<p>With that in mind, these are some of the optimizations that you can implement:</p>

<ul>
<li><p><strong>Optimization 1</strong>: The aforementioned operation involves I/O so it can be performed in parallel with our query to verify if a token has been revoked.</p>

<blockquote><p>Of course, you can also add a caching layer with a reasonable expiration time to avoid the DB trips altogether.</p></blockquote></li>
<li><p><strong>Optimization 2</strong>: Skip the expiration check if the <code>jti</code> claim is not part of the JWT.</p></li>
<li><p><strong>Optimization 3</strong>: To reduce the size of the revoked tokens store you could automatically remove JWTs from it once their <a href="http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html#expDef"><code>exp</code></a> is reached (assuming there is one).</p></li>
</ul>


<p><a name="impl"></a></p>

<h2>Implementation</h2>

<p>We have shipped version 1.3.0 of the open source <a href="https://github.com/auth0/express-jwt">express-jwt</a> with support for <a href="https://github.com/auth0/express-jwt#multi-tenancy">multi-tenancy</a> and <a href="https://github.com/auth0/express-jwt#revoked-tokens">blacklisted tokens</a>. We also put together a <a href="https://github.com/auth0/multitenant-jwt-auth">sample</a> that shows everything working together. The sample is based on our <a href="https://docs.auth0.com/apiv2">API v2</a> implementation.</p>

<p>The following code snippets use show the core sample parts:</p>

<h3>Securing the endpoint</h3>

<p>The first thing we have is an API that we would like to protect. The <code>express-jwt</code> middleware is configured by providing:</p>

<ul>
<li><code>secret</code> - A function in charge of retrieving the secret.</li>
<li><code>isRevoked</code> - A function in charge of checking if a JWT is revoked.</li>
</ul>


<pre><code class="javascript">var expressJwt = require('express-jwt');
// to protect /api routes with JWTs
app.use('/api', expressJwt({
  secret: secretCallback,
  isRevoked: isRevokedCallback
}));
</code></pre>

<h3>Handling multi-tenancy</h3>

<p>The implementation for the <code>secretCallback</code> function reads the backing data store to retrieve the secret for a tenant.  It caches the secrets using the tenant identifier as the cache key.</p>

<p>If the data layer provides an encrypted tenant secret, it needs to be decrypted before calling <code>done</code>.</p>

<pre><code class="javascript">var LRU = require('lru-cache');

var secretsCache = LRU({ /* options */ });

var secretCallback = function(req, payload, done){
  var audience = payload.aud;
  var cachedSecret = secretsCache.get(audience);

  if (cachedSecret) { return done(null, cachedSecret); }

  data.getTenantByIdentifier(audience, function(err, tenant){
    if (err) { return done(err); }
    if (!tenant) { return done(new Error('missing_secret')); }

    var secret = utilities.decrypt(tenant.secret);
    secretsCache.set(audience, secret);
    done(null, secret);
  });
};
</code></pre>

<h3>Supporting revoked JWTs</h3>

<p>Similarly, the <code>isRevokedCallback</code> implementation caches whether a token is revoked or not using the <code>(aud, jti)</code> pair as the cache key. It also skips the check in case the <code>jti</code> claim is not present.</p>

<pre><code class="javascript">var jtiCache = LRU({ /* options */ });

var isRevokedCallback = function(req, payload, done){
  var tokenId = payload.jti;
  if (!tokenId){
    // if it does not have jti it cannot be revoked
    return done(null, false);
  }

  var tokenIdentifier = payload.aud + ':' + payload.jti;
  var blacklisted = jtiCache.get(tokenIdentifier);
  if (typeof blacklisted !== 'undefined') { return done(null, blacklisted); }

  data.getRevokedTokenByIdentifier(tokenIdentifier, function(err, token){
    if (err) { return done(err); }
    blacklisted = !!token;
    jtiCache.set(tokenIdentifier,blacklisted)
    return done(null, blacklisted);
  });
};
</code></pre>

<h1>Conclusion</h1>

<p>Most of the aforementioned content applies to blacklisting JWTs in general, not just JWT API keys.</p>

<p>Hopefully this blog post has provided some useful ideas on how to tackle this problem.</p>

<p>If you have any comments or questions don't hesitate to post them!</p>

<p>You an also get involved in <a href="https://github.com/auth0/express-jwt">express-jwt</a>!</p>

<iframe src="https://ghbtns.com/github-btn.html?user=auth0&amp;repo=express-jwt&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>


            </div>

            

            <div class="try-banner">
                <span>Try Auth0 for FREE</span>
                <a href="javascript:signup()" class="signup-button btn btn-success btn-lg">Create free Account</a>
            </div>

            

<p class="small-caps text-center">Recent Posts</p>

<div class="related-posts">

  

  

  <div class="entry-related">
    












  <a href="/blog/2015/05/04/design-at-auth0/" 
    style="
 
  background: #222229;
 
 
 
"
    class="entry-thumbnail">
    <img 
    style="
  
 
  
  max-width: 170%;
  
 
  
  top: 52%;
  
 
  
"
    src="http://assets.auth0.com/blog/design-process/badge.png"
    alt="Engineering the Design Process at Auth0">
  </a>


    <h2 class="entry-title"><a href="/blog/2015/05/04/design-at-auth0/" title="Published: May 04, 2015">Engineering the Design Process at Auth0</a></h2>
  </div>

  

  

  <div class="entry-related">
    












  <a href="/blog/2015/04/28/announcing-auth0-sso-dashboard/" 
    style="
 
 
 
"
    class="entry-thumbnail">
    <img 
    style="
  
  opacity: 0.8;
  
 
  
  max-width: 200%;
  
 
  
 
  
"
    src="https://cloudup.com/cfENOYpKxfL+"
    alt="Announcing the Auth0 Open Source Single-Sign-On Dashboard">
  </a>


    <h2 class="entry-title"><a href="/blog/2015/04/28/announcing-auth0-sso-dashboard/" title="Published: April 28, 2015">Announcing the Auth0 Open Source Single-Sign-On Dashboard</a></h2>
  </div>

  

  

  <div class="entry-related">
    












  <a href="/blog/2015/04/27/auth0-europe-launches/" 
    style="
 
 
 
"
    class="entry-thumbnail">
    <img 
    style="
  
 
  
  max-width: 155%;
  
 
  
 
  
"
    src="https://cldup.com/C76gL6oGIE.png"
    alt="Auth0 Europe Launches">
  </a>


    <h2 class="entry-title"><a href="/blog/2015/04/27/auth0-europe-launches/" title="Published: April 27, 2015">Auth0 Europe Launches</a></h2>
  </div>

</div>

            <div id="disqus_thread">
            </div>
        </div>
    </div>
    <br />
</div>

<g:plusone annotation="inline"></g:plusone>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'auth0blog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    <div class="container">
      <footer class="site-footer clearfix">
        <div class="logo"><img src=
        "https://cdn.auth0.com/styleguide/1.0.0/img/badge.png" width="30"></div>

        <div class="footer-grid">
          <div class="column">
            <div class="item">
              <h6>Product</h6>
            </div>

            <div class="item">
              <a href="/pricing">Pricing</a>
            </div>

            <div class="item">
              <a href="/why-auth0">Why Auth0</a>
            </div>

            <div class="item">
              <a href="/how-it-works">How It Works</a>
            </div>
          </div>

          <div class="column">
            <div class="item">
              <h6>Company</h6>
            </div>

            <div class="item">
              <a href="/about">About Us</a>
            </div>

            <div class="item">
              <a href="/blog">Blog</a>
            </div>

            <div class="item">
              <a href="/jobs">Jobs</a>
            </div>
          </div>

          <div class="column">
            <div class="item">
              <h6>Security</h6>
            </div>

            <div class="item">
              <a href="/availability-trust">Availability &amp; Trust</a>
            </div>

            <div class="item">
              <a href="/security">Security</a>
            </div>

            <div class="item">
              <a href="/whitehat">White Hat</a>
            </div>
          </div>

          <div class="column">
            <div class="item">
              <h6>Learn</h6>
            </div>

            <div class="item">
              <a href="/support">Help &amp; Support</a>
            </div>

            <div class="item">
              <a href="https://auth0.com/docs">Documentation</a>
            </div>

            <div class="item">
              <a href="/opensource">Open Source</a>
            </div>
          </div>

          <div class="column">
            <div class="item">
              <h6>Extend</h6>
            </div>

            <div class="item">
              <a href="/lock">Lock</a>
            </div>

            <div class="item">
              <a href="/wordpress">Wordpress</a>
            </div>

            <div class="item">
              <a href="https://auth0.com/docs/apiv2">API Explorer</a>
            </div>
          </div>

          <div class="contact">
            <div class="column">
              <div class="item">
                <h6>Contact</h6>
              </div>

              <div class="item">
                <a href="mailto:support@auth0.com">Email Us</a>
              </div>

              <div class="item">
                10777 Main Street<br>
                Suite 204<br>
                Bellevue, WA 98004
              </div>
            </div>

            <div class="column no-heading">
              <div class="item">
                <a href="tel:+18882352699">+1 (888) 235-2699</a>
              </div>

              <div class="item">
                <a href="tel:+14253126521">+1 (425) 312-6521</a>
              </div>
            </div>
          </div>
        </div>

        <div class="colophon">
          <div class="column">
            <div class="social">
              <div class="twitter">
                <iframe class="twitter" frameborder="0" scrolling="no" src=
                "//platform.twitter.com/widgets/follow_button.html?screen_name=auth0">
                </iframe>
              </div>

              <div class="facebook">
                <iframe class="facebook" frameborder="0" scrolling="no" src=
                "//www.facebook.com/plugins/like.php?href=https%3A%2F%2Ffacebook.com%2Fgetauth0&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;show_count=false&amp;share=false&amp;height=21&amp;appId=507756515938786">
                </iframe>
              </div>
            </div>
          </div>

          <div class="column">
            <ul class="list-inline text-right">
              <li>
                <a href="/privacy">Privacy Policy</a>
              </li>

              <li>
                <a href="/terms">Terms of Service</a>
              </li>

              <li><span>Â© 2013-2015 Auth0 All Rights Reserved</span></li>
            </ul>
          </div>
        </div>
      </footer>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="/blog/js/vendor/moment.min.js"></script>
    <script src="/blog/js/vendor/jquery.csbuttons.min.js"></script>
    <script type="text/javascript">
      (function () {
        var lock = window.lock = new Auth0Lock('zEYfpoFzUMEzilhkHilcWoNkrFfJ3hAI', 'auth0.auth0.com');
        var options = {
          callbackURL:    'https://manage.auth0.com/callback',
          dict: {
            signup: {
              footerText: 'By signing up, you agree to our <a href="/terms" target="_new">terms of service</a> and <a href="/privacy" target="_new">privacy policy</a>'
            }
          },
          icon: '//cdn.auth0.com/styleguide/latest/lib/logos/img/badge.png'
        };

        function getBasicInfo () {
          return {
            path: window.location.pathname,
            url: window.location.toString(),
            title: document.title,
            referrer: document.referrer,
            category: 'Lock',
            label: 'blog'
          }
        }

        lock.on('signup ready', function () {
          if (!window.analytics) return;
          window.analytics.track('open:signup', getBasicInfo());
        });

        lock.on('signin ready', function () {
          if (!window.analytics) return;
          window.analytics.track('open:signin', getBasicInfo());
        });

        lock.getClient().getSSOData(false, function (err, data) {
          if (!data || !data.sso) return;
          $('.login')
            .attr('href', 'https://manage.auth0.com')
            .html('Open Dashboard');
        });

        window.login = function login() {
          if (window.analytics) {
            window.analytics.track('click:signin', getBasicInfo());
          }
          lock.hide(function() {
            lock.show(options);
          });
        }

        window.signup = function() {
          if (window.analytics) {
            window.analytics.track('click:signup', getBasicInfo());
          }
          lock.hide(function() {
            lock.showSignup(options);
          });
        }
      })()
      
      $(function() {
        // Social Buttons
        $('.social-stats .network').cSButtons();

        // prettyPrint
        $('pre').addClass("prettyprint");

        // Force al content links to blank
        $('.entry-content a').each(function() {
          $(this).attr('target', '_blank');
        });

        $('.post-info time').each(function() {
          var $current = $(this);
          var dateString = $current.text();
          var diff = moment(dateString).diff(moment(new Date()), 'days');
          var dateFormat;

          dateFormat = moment(dateString).fromNow();

          if(diff > -10) {
            $current.text(dateFormat);
          }

          $current.addClass('rendered');
        });
      });

      $.fn.isOnScreen = function(){
        var win = $(window);
        var viewport = {
          top : win.scrollTop(),
          left : win.scrollLeft()
        };
        viewport.right = viewport.left + win.width();
        viewport.bottom = viewport.top + win.height();

        var bounds = win.offset();
        if (!bounds) return;

        bounds.right = bounds.left + win.outerWidth();
        bounds.bottom = bounds.top + win.outerHeight();

        return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));
      };
    </script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'auth0blog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
</body>
</html>
