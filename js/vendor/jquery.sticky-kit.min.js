/*
 Sticky-kit v1.1.1 | WTFPL | Leaf Corcoran 2014 | http://leafo.net
*/
(function(){var a,b;a=this.jQuery||window.jQuery;b=a(window);a.fn.stick_in_parent=function(d){var l,m,j,f,k,e,c,i,h,g,n;if(d==null){d={};}i=d.sticky_class,j=d.inner_scrolling,c=d.recalc_every,e=d.parent,k=d.offset_top,f=d.spacer,m=d.bottoming;if(k==null){k=0;}if(e==null){e=void 0;}if(j==null){j=true;}if(i==null){i="is_stuck";}if(m==null){m=true;}h=function(s,F,p,o,z,B,x,y){var C,G,q,E,r,v,t,w,A,u,D;if(s.data("sticky_kit")){return;}s.data("sticky_kit",true);v=s.parent();if(e!=null){v=v.closest(e);}if(!v.length){throw"failed to find stick parent";}q=false;C=false;u=f!=null?f&&s.closest(f):a("<div />");if(u){u.css("position",s.css("position"));}t=function(){var H,J,I;if(y){return;}H=parseInt(v.css("border-top-width"),10);J=parseInt(v.css("padding-top"),10);F=parseInt(v.css("padding-bottom"),10);p=v.offset().top+H+J;o=v.height();if(q){q=false;C=false;if(f==null){s.insertAfter(u);u.detach();}s.css({position:"",top:"",width:"",bottom:""}).removeClass(i);I=true;}z=s.offset().top-parseInt(s.css("margin-top"),10)-k;B=s.outerHeight(true);x=s.css("float");if(u){u.css({width:Math.floor(s.outerWidth(true)),height:B,display:s.css("display"),"vertical-align":s.css("vertical-align"),"float":x});}if(I){return D();}};t();if(B===o){return;}E=void 0;r=k;A=c;D=function(){var J,L,I,H,K;if(y){return;}if(A!=null){A-=1;if(A<=0){A=c;t();}}I=b.scrollTop();if(E!=null){L=I-E;}E=I;if(q){if(m){H=I+B+r>o+p;if(C&&!H){C=false;s.css({position:"fixed",bottom:"",top:r}).trigger("sticky_kit:unbottom");}}if(I<z){q=false;r=k;if(f==null){if(x==="left"||x==="right"){s.insertAfter(u);}u.detach();}J={position:"",width:"",top:""};s.css(J).removeClass(i).trigger("sticky_kit:unstick");}if(j){K=b.height();if(B+k>K){if(!C){r-=L;r=Math.max(K-B,r);r=Math.min(k,r);if(q){s.css({top:r+"px"});}}}}}else{if(I>z){q=true;J={position:"fixed",top:r};J.width=s.css("box-sizing")==="border-box"?Math.floor(s.outerWidth())+"px":Math.floor(s.width())+"px";s.css(J).addClass(i);if(f==null){s.after(u);if(x==="left"||x==="right"){u.append(s);}}s.trigger("sticky_kit:stick");}}if(q&&m){if(H==null){H=I+B+r>o+p;}if(!C&&H){C=true;if(v.css("position")==="static"){v.css({position:"relative"});}return s.css({position:"absolute",bottom:F,top:"auto"}).trigger("sticky_kit:bottom");}}};w=function(){t();return D();};G=function(){y=true;b.off("touchmove",D);b.off("scroll",D);b.off("resize",w);a(document.body).off("sticky_kit:recalc",w);s.off("sticky_kit:detach",G);s.removeData("sticky_kit");s.css({position:"",bottom:"",top:"",width:""});v.position("position","");if(q){if(f==null){if(x==="left"||x==="right"){s.insertAfter(u);}u.remove();}return s.removeClass(i);}};b.on("touchmove",D);b.on("scroll",D);b.on("resize",w);a(document.body).on("sticky_kit:recalc",w);s.on("sticky_kit:detach",G);return setTimeout(D,0);};for(g=0,n=this.length;g<n;g++){l=this[g];h(a(l));}return this;};}).call(this);
